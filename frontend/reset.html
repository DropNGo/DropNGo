<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>

  <title>Passwort zurücksetzen – DropNGo</title>
  <link rel="icon" href="assets/favicon.ico"/>

  <!-- Open Graph (Preview) -->
  <meta property="og:title" content="Passwort zurücksetzen | DropNGo" />
  <meta property="og:description" content="Vergib ein neues, sicheres Passwort und erhalte wieder Zugriff auf dein Konto." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://www.dropngo.shop/reset.html" />
<meta property="og:image" content="https://www.dropngo.shop/assets/images/dropngo-preview.png" />
  <meta property="og:image:type" content="image/png" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:image:alt" content="DropNGo – Smart Shopping" />
  <link rel="canonical" href="https://www.dropngo.shop/reset.html" />

  <!-- Twitter Card (optional) -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:image" content="https://www.dropngo.shop/images/dropngo-preview.png" />

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
</head>


  <style>
    :root{
      --bg:#0b0d0f; --surface:#121417; --elev:#191c20;
      --text:#e6e9ee; --muted:#aab3be;
      --brand:#18a196; --brand-700:#0e9d90;
      --radius:14px; --shadow:0 10px 30px rgba(0,0,0,.35);
    }

    /* Base */
    *,*::before,*::after{ box-sizing:border-box }
    body{
      margin:0; font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      color:var(--text);
      background:
        radial-gradient(1200px 700px at 70% -10%, rgba(24,161,150,.08), transparent 60%),
        radial-gradient(900px 600px at 0% 100%, rgba(24,161,150,.06), transparent 60%),
        var(--bg);
      line-height:1.6;
    }
    a{ color:inherit; text-decoration:none }
    .container{ width:min(1100px,92%); margin-inline:auto }

    /* Header (wie auf index) */
    .site-header{
      position:sticky; top:0; z-index:50;
      backdrop-filter:saturate(160%) blur(10px);
      background:rgba(11,13,15,.75);
      border-bottom:1px solid rgba(255,255,255,.06);
    }
    .nav{ display:flex; align-items:center; justify-content:space-between; padding:14px 0; gap:14px }
    .brand{ display:flex; align-items:center; gap:10px; font-weight:800; letter-spacing:.2px }
    .brand img{ width:34px; height:34px; border-radius:10px; box-shadow:0 6px 18px rgba(24,161,150,.30) }
    .nav__links{ display:flex; gap:18px; align-items:center }
    .nav__links a{ padding:8px 12px; border-radius:10px; color:var(--muted); transition:.2s }
    .nav__links a:hover{ color:var(--text); background:rgba(255,255,255,.05) }
    .nav__cta{ display:flex; gap:10px }
    .btn{
      padding:10px 14px; border-radius:12px; border:1px solid transparent;
      background:var(--brand); color:#041413; font-weight:800; cursor:pointer;
      box-shadow:0 8px 18px rgba(24,161,150,.25); transition:.2s background,.08s transform;
    }
    .btn:hover{ background:var(--brand-700) }
    .btn--ghost{ background:transparent; color:var(--text); border:1px solid rgba(255,255,255,.12); box-shadow:none }
    .btn--ghost:hover{ background:rgba(255,255,255,.06) }

    /* Mobile-Header */
    .nav-toggle{ display:none; background:transparent; border:1px solid rgba(255,255,255,.14); padding:10px; border-radius:10px; color:var(--text) }
    .nav-toggle svg{ width:22px; height:22px }
    @media (max-width:820px){
      .nav__links,.nav__cta{ display:none }
      .nav-toggle{ display:block }
      .mobile-menu{ display:none; position:fixed; inset:64px 0 0 0; background:rgba(9,11,12,.98); border-top:1px solid rgba(255,255,255,.06); padding:18px 0 }
      .mobile-menu[hidden]{ display:none }
      .mobile-menu nav{ display:grid; gap:8px }
      .mobile-menu a{ padding:12px 10px; border-radius:10px; color:var(--muted) }
      .mobile-menu a:hover{ background:rgba(255,255,255,.05); color:var(--text) }
      .mobile-cta{ display:grid; gap:10px; margin-top:12px }
    }

    /* Page Hero */
    .page-hero{ padding: clamp(26px, 4vw, 40px) 0 8px }
    .page-hero h1{ margin:0 0 6px; font-size: clamp(28px, 4.5vw, 42px); line-height:1.1 }
    .page-hero p{ color:var(--muted); margin:0 }

    /* Card */
    .card{
      margin:16px 0 clamp(40px,6vw,70px);
      background:linear-gradient(180deg,var(--surface),var(--elev));
      border:1px solid rgba(255,255,255,.06);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding: clamp(18px, 3vw, 26px);
    }

    /* Form */
    .grid{ display:grid; gap:12px }
    label{ font-weight:700 }
    .field{ position:relative }
    input[type="password"]{
      width:100%; padding:12px 42px 12px 12px;
      border-radius:10px; border:1px solid rgba(255,255,255,.12);
      background:#0f1114; color:var(--text);
    }
    .toggle{
      position:absolute; right:8px; top:50%; transform:translateY(-50%);
      background:transparent; border:0; color:#aab3be; padding:6px; border-radius:8px; cursor:pointer
    }
    .toggle:hover{ color:#e6e9ee; background:rgba(255,255,255,.05) }

    /* Stärke-Meter + Hinweise */
    .meter{ height:8px; background:rgba(255,255,255,.08); border-radius:999px; overflow:hidden }
    .meter > span{ display:block; height:100%; width:0%; background:#18a196; transition:width .25s ease }
    .hints{ display:grid; gap:6px; color:var(--muted); font-size:.95rem }
    .hints li{ list-style:none; display:flex; gap:8px; align-items:center }
    .dot{ width:8px; height:8px; border-radius:50%; background:#18a196; opacity:.7 }

    /* Alerts */
    .alert{
      display:none; margin-top:10px; padding:10px 12px; border-radius:10px;
      border:1px solid rgba(255,255,255,.12)
    }
    .alert--ok{ display:block; background:rgba(24,161,150,.10); color:#bdf3ec; border-color:rgba(24,161,150,.35) }
    .alert--warn{ display:block; background:rgba(220,75,75,.10); color:#ffd5d5; border-color:rgba(220,75,75,.35) }
    .muted{ color:var(--muted) }

    /* Footer-light */
    footer{ padding:30px 0 50px; color:#8f98a3; border-top:1px solid rgba(255,255,255,.06); margin-top:50px; text-align:center }

/* === Passwort-Auge: bündig rechts im Feld === */
.pw-wrap{ position: relative; }
.pw-wrap input{ width:100%; padding-right:52px; border-radius:10px; } /* Platz für Auge */

.pw-toggle{
  position:absolute; top:0; right:0;
  height:100%; width:46px; display:grid; place-items:center;
  border:0; border-left:1px solid rgba(255,255,255,.12);
  background:transparent; color:#aab3be;
  border-radius:0 10px 10px 0;          /* gleiche rechte Rundung wie Input */
  cursor:pointer; -webkit-tap-highlight-color:transparent;
}
.pw-wrap:focus-within .pw-toggle{
  color:#e6e9ee; background:rgba(255,255,255,.04);
  border-left-color:rgba(255,255,255,.18);
}
.pw-toggle:hover{ background:rgba(255,255,255,.06); }

.pw-toggle svg{ width:18px; height:18px; }
.pw-toggle .eye-off{ display:none; }
.pw-toggle[data-visible="true"] .eye{ display:none; }
.pw-toggle[data-visible="true"] .eye-off{ display:block; }

/* Text- & Passwortfelder identisch stylen */
.field :is(input[type="password"], input[type="text"]) {
  width: 100%;
  padding-right: 52px;            /* Platz fürs Auge */
  border-radius: 10px;
  background: #14181c;            /* DEIN Feld-Background */
  color: #e6e9ee;
  border: 1px solid rgba(255,255,255,.12);
  outline: 0;
}
.field :is(input[type="password"], input[type="text"]):focus {
  border-color: rgba(255,255,255,.20);
  box-shadow: 0 0 0 2px rgba(255,255,255,.06) inset;
}

/* ----- FIX: Passwort/Text identisch + feste Höhe ----- */
:root { --in-h: 44px; }               /* gewünschte Feldhöhe */

.pw-wrap{ position: relative; }
.pw-wrap input[type="password"],
.pw-wrap input[type="text"]{
  box-sizing: border-box;
  display: block;
  width: 100%;
  height: var(--in-h);                 /* gleiche Höhe */
  padding: 0 52px 0 14px;              /* Platz fürs Auge rechts */
  border-radius: 10px;
  background: #14181c;
  color: #e6e9ee;
  border: 1px solid rgba(255,255,255,.12);
  outline: 0;
  appearance: none;                    /* Browser-Defaults neutralisieren */
  -webkit-appearance: none;
  font-size: 16px;                     /* iOS-Zoom vermeiden, gleiche Metrics */
  line-height: 1.2;                    /* stabil */
}

.pw-wrap input[type="password"]:focus,
.pw-wrap input[type="text"]:focus{
  border-color: rgba(255,255,255,.20);
  box-shadow: 0 0 0 2px rgba(255,255,255,.06) inset;
}

/* Auge bündig rechts, gleiche Höhe wie Input */
.pw-toggle{
  position: absolute; right: 0; top: 0;
  width: 46px; height: var(--in-h);
  display: grid; place-items: center;
  border: 0; border-left: 1px solid rgba(255,255,255,.12);
  background: transparent; color: #aab3be;
  border-radius: 0 10px 10px 0;
  cursor: pointer; -webkit-tap-highlight-color: transparent;
}
.pw-wrap:focus-within .pw-toggle{
  color:#e6e9ee; background:rgba(255,255,255,.04);
  border-left-color:rgba(255,255,255,.18);
}
.pw-toggle:hover{ background:rgba(255,255,255,.06); }
.pw-toggle svg{ width:18px; height:18px; }
.pw-toggle .eye-off{ display:none; }
.pw-toggle[data-visible="true"] .eye{ display:none; }
.pw-toggle[data-visible="true"] .eye-off{ display:block; }




  </style>
</head>
<body>

  <!-- ===== Global Header (neu) ===== -->
<header class="dng-header" data-mobile>
  <div class="dng-container dng-nav">
    <a class="dng-brand" href="index.html" aria-label="DropNGo Startseite">
      <img src="favicon.ico" alt="" class="dng-logo">
      <span class="dng-brand-text">DropNGo</span>
    </a>

    <!-- Desktop-Links -->
    <nav class="dng-links" aria-label="Hauptnavigation">
      <a href="index.html">Home</a>
      <a href="products.html">Produkte</a>
      <a href="info.html">Über uns</a>
      <a href="support-formular.html">Support</a>
      <a href="account.html" class="dng-account">Mein Konto</a>
    </nav>

    <!-- Burger -->
    <button id="dngNavToggle" class="dng-burger" aria-expanded="false" aria-controls="dngMobileMenu" aria-label="Menü öffnen">
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <path d="M4 6h16M4 12h16M4 18h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      </svg>
    </button>
  </div>
</header>

<!-- ===== Mobile Drawer + Overlay (neu) ===== -->
<div id="dngOverlay" class="dng-overlay" hidden></div>

<aside id="dngMobileMenu" class="dng-drawer" hidden aria-label="Mobile Navigation">
  <nav class="dng-drawer-nav">
    <a href="index.html">Home</a>
    <a href="products.html">Produkte</a>
    <a href="info.html">Über uns</a>
    <a href="support-formular.html">Support</a>
    <a href="account.html">Mein Konto</a>
  </nav>
</aside>

  <!-- Main -->
  <main class="container">
    <section class="page-hero">
      <h1>Passwort zurücksetzen</h1>
      <p class="muted">Vergib ein neues, sicheres Passwort für dein Konto.</p>
    </section>

    <section class="card" aria-labelledby="reset-head">
      <h2 id="reset-head" style="margin:0 0 6px; font-size:1.15rem; color:#d7dde6">Passwort Änderung</h2>

      <div class="grid" style="max-width:560px">
     <!-- Neues Passwort -->
<div class="field">
  <label for="pw1">Neues Passwort</label>
  <div class="pw-wrap">
    <input id="pw1" type="password" autocomplete="new-password" placeholder="••••••••" required>
    <button type="button" class="pw-toggle" data-target="#pw1" aria-label="Passwort anzeigen" aria-pressed="false">
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <path class="eye" d="M12 5c5 0 9 5 9 7s-4 7-9 7-9-5-9-7 4-7 9-7Zm0 3a4 4 0 1 0 .001 8.001A4 4 0 0 0 12 8Z" fill="currentColor"/>
        <path class="eye-off" d="M3 3l18 18m-3.5-4A12.6 12.6 0 0 1 12 19c-5 0-9-5-9-7a11.6 11.6 0 0 1 4.2-4.9M14.5 9.5A4 4 0 0 0 9.6 14.4" stroke="currentColor" stroke-width="2" stroke-linecap="round" fill="none"/>
      </svg>
    </button>
  </div>
</div>

<!-- Passwort bestätigen -->
<div class="field">
  <label for="pw2">Passwort bestätigen</label>
  <div class="pw-wrap">
    <input id="pw2" type="password" autocomplete="new-password" placeholder="••••••••" required>
    <button type="button" class="pw-toggle" data-target="#pw2" aria-label="Passwort anzeigen" aria-pressed="false">
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <path class="eye" d="M12 5c5 0 9 5 9 7s-4 7-9 7-9-5-9-7 4-7 9-7Zm0 3a4 4 0 1 0 .001 8.001A4 4 0 0 0 12 8Z" fill="currentColor"/>
        <path class="eye-off" d="M3 3l18 18m-3.5-4A12.6 12.6 0 0 1 12 19c-5 0-9-5-9-7a11.6 11.6 0 0 1 4.2-4.9M14.5 9.5A4 4 0 0 0 9.6 14.4" stroke="currentColor" stroke-width="2" stroke-linecap="round" fill="none"/>
      </svg>
    </button>
  </div>
</div>



        <div class="meter" aria-hidden="true"><span id="bar"></span></div>
        <ul class="hints" aria-live="polite" id="reqList">
          <li><span class="dot"></span> Mindestens 8 Zeichen</li>
          <li><span class="dot"></span> Zahlen & Buchstaben gemischt</li>
          <li><span class="dot"></span> Optional: Sonderzeichen für extra Stärke</li>
          <li id="capsHint" style="display:none"><span class="dot" style="background:#f5b83d"></span> Feststelltaste ist aktiv</li>
        </ul>

        <div style="display:flex; gap:10px; align-items:center; flex-wrap:wrap; margin-top:6px">
          <button id="saveBtn" class="btn">Speichern</button>
          <a class="btn btn--ghost" href="login.html" style="text-decoration:none">Zur Anmeldung</a>
        </div>

        <div id="msg" class="alert" role="status" aria-live="polite"></div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">© 2025 DropNGo – Sicher, fair & transparent.</div>
  </footer>

  <!-- Keys (liefert window.SUPABASE_URL / window.SUPABASE_ANON) -->
  <script src="js/auth-config.js"></script>

  <!-- Mobile-Menu Toggle -->
  

  <!-- Reset-Logik -->
  <script type="module">
    import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm'

    const supabase = createClient(window.SUPABASE_URL, window.SUPABASE_ANON);

    const pw1 = document.getElementById('pw1');
    const pw2 = document.getElementById('pw2');
    const msg = document.getElementById('msg');
    const bar = document.getElementById('bar');
    const capsHint = document.getElementById('capsHint');

    // Augen-Toggle (Selector in data-target, z. B. "#pw1")
  document.querySelectorAll('.pw-toggle').forEach((btn) => {
    const sel = btn.getAttribute('data-target');
    const input = document.querySelector(sel);
    if (!input) return;

    btn.addEventListener('click', () => {
      const willShow = input.type === 'password';
      input.type = willShow ? 'text' : 'password';
      btn.dataset.visible = String(willShow);
      btn.setAttribute('aria-pressed', String(willShow));
      btn.setAttribute('aria-label', willShow ? 'Passwort verbergen' : 'Passwort anzeigen');

      // Fokus + Cursor ans Ende ohne Wert-Trick
      input.focus();
      const end = input.value.length;
      try {
        // in manchen Browsern erst im nächsten Frame verfügbar
        requestAnimationFrame(() => input.setSelectionRange(end, end));
      } catch (_) {}
    });
  });



    // Caps-Lock Hinweis
    [pw1, pw2].forEach(el=>{
      el.addEventListener('keyup', e=>{
        capsHint.style.display = e.getModifierState && e.getModifierState('CapsLock') ? 'block' : 'none';
      });
    });

    // Stärke-Schätzung (basic)
    function strength(v){
      let s = 0;
      if(v.length >= 8) s += 30;
      if(/[A-Z]/.test(v) && /[a-z]/.test(v)) s += 25;
      if(/\d/.test(v)) s += 25;
      if(/[^\w\s]/.test(v)) s += 20;
      return Math.min(100, s);
    }
    pw1.addEventListener('input', ()=>{
      const val = pw1.value;
      const pct = strength(val);
      bar.style.width = pct + '%';
      bar.style.background = pct < 40 ? '#d95c5c' : pct < 70 ? '#f5b83d' : '#18a196';
    });

    // Submit
    async function save(){
      msg.className = 'alert'; msg.style.display = 'none'; msg.textContent = '';
      if(pw1.value !== pw2.value){
        msg.classList.add('alert--warn'); msg.style.display='block';
        msg.textContent = 'Passwörter stimmen nicht überein.'; return;
      }
      if(pw1.value.length < 8){
        msg.classList.add('alert--warn'); msg.style.display='block';
        msg.textContent = 'Bitte mindestens 8 Zeichen wählen.'; return;
      }
      const { error } = await supabase.auth.updateUser({ password: pw1.value });
      if(error){
        msg.classList.add('alert--warn'); msg.style.display='block';
        msg.textContent = 'Fehler: ' + error.message; return;
      }
      msg.classList.add('alert--ok'); msg.style.display='block';
      msg.textContent = 'Dein Passwort wurde gespeichert. Du kannst dich jetzt anmelden.';
      setTimeout(()=>{ location.href = 'login.html'; }, 1400);
    }

    document.getElementById('saveBtn').addEventListener('click', save);
    // Enter-Submit
    [pw1,pw2].forEach(i => i.addEventListener('keydown', e => { if(e.key==='Enter'){ e.preventDefault(); save(); } }));
    // Fokus
    pw1.focus();
  </script>
    <script src="js/auth-config.js"></script>               <!-- falls benötigt -->

  
<link rel="stylesheet" href="css/mobile.css">
<script src="js/mobile.js" defer></script>


</body>
</html>
